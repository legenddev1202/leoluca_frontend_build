{"version":3,"file":"static/js/485.dda22306.chunk.js","mappings":"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","sources":["views/vr/index.js"],"sourcesContent":["import { useState, React } from 'react';\r\nimport axios from 'axios';\r\nimport './index.css';\r\nimport { styled } from '@mui/material/styles';\r\n\r\nconst PreviewIframe = styled('iframe')(() => ({\r\n    border: 'none',\r\n    height: '100vh',\r\n    width: '100%',\r\n    margin: '0'\r\n}));\r\n\r\n\r\nconst VrPasscode = () => {\r\n    const [inputValues, setInputValues] = useState(['','','','']);\r\n    const [verifyStatus, setVerifyStatus] = useState(false);\r\n    const [vrRoomUrl, setVrRoomUrl] = useState('');\r\n    const [error, setError] = useState(false);\r\n\r\n    const handleClick = (value) => {\r\n        if (value === \"Done\") {\r\n            if (inputValues.join(\"\").split(\"\").length == 4) {\r\n                const valueArray = inputValues.join(\"\");\r\n                const vrPasscodeVerifyUrl = `https://grwthx.grwth.hk/api/vr?passcode=${valueArray}`;\r\n                axios.get(vrPasscodeVerifyUrl)\r\n                    .then(response =>{\r\n                        console.log(response.data);\r\n                        if(response.data.verified){\r\n                            setVerifyStatus(true);\r\n                            setVrRoomUrl(response.data.url);\r\n                        }else{\r\n                            setError(true);\r\n                        }\r\n                    })\r\n                    .catch(error =>{\r\n                        console.log(error);\r\n                        setError(true);\r\n                    })\r\n            }else{\r\n                setError(true);\r\n            }\r\n        }else if(value === \"Delete\"){\r\n            setError(false);\r\n            let valueArray = inputValues.join(\"\").split(\"\");\r\n            valueArray.pop();\r\n            setInputValues([...valueArray]);\r\n        }else{\r\n            setError(false);\r\n            let valueArray = inputValues.join(\"\").split(\"\");\r\n            if (valueArray.length < 4) {\r\n                setInputValues([...valueArray, value])\r\n            }\r\n        }\r\n    };\r\n    \r\n    const inputOnChange = (e, key) =>{\r\n        setError(false);\r\n        let [...valueArray] = inputValues;\r\n        valueArray[key] = e.target.value;\r\n        setInputValues([...valueArray]);\r\n        if (e.nativeEvent.inputType === \"deleteContentBackward\") {\r\n            handleKeyBackspace();\r\n        }else{\r\n            handleKeyDown();\r\n        }\r\n    }\r\n\r\n    const handleKeyDown = () => {\r\n        const inputs = document.getElementsByClassName(\"otp-input\");\r\n        const currentInput = document.activeElement;\r\n        const currentIndex = Array.from(inputs).indexOf(currentInput);\r\n        const nextIndex = currentIndex + 1;\r\n        if (nextIndex < inputs.length) {\r\n            // setLastFocusedInput(inputs[nextIndex]);\r\n            // console.log(inputs[nextIndex], \"========= key down =========\")\r\n            inputs[nextIndex].focus();\r\n        }\r\n    }\r\n    const handleKeyBackspace = () => {\r\n        const inputs = document.getElementsByClassName(\"otp-input\");\r\n        const currentInput = document.activeElement;\r\n        const currentIndex = Array.from(inputs).indexOf(currentInput);\r\n        const nextIndex = currentIndex - 1;\r\n        if (nextIndex >= 0) {\r\n            inputs[nextIndex].focus();\r\n        }\r\n    }\r\n\r\n    if (verifyStatus) {\r\n        return (\r\n            <PreviewIframe src={vrRoomUrl} />\r\n        )\r\n    }else{\r\n        return (\r\n            <div className=\"container\">\r\n                <h1>Enter the Passcode</h1>\r\n                <div className=\"otp-group\">\r\n                    <input key='0' type=\"text\" inputMode=\"numeric\" pattern=\"\\d{1}\" maxLength={1} className=\"otp-input\" value={inputValues[0] || ''}  onChange={(e) => inputOnChange(e, 0)} tabIndex={1}/>\r\n                    <input key='1' type=\"text\" inputMode=\"numeric\" pattern=\"\\d{1}\" maxLength={1} className=\"otp-input\" value={inputValues[1] || ''}  onChange={(e) => inputOnChange(e, 1)} tabIndex={2}/>\r\n                    <input key='2' type=\"text\" inputMode=\"numeric\" pattern=\"\\d{1}\" maxLength={1} className=\"otp-input\" value={inputValues[2] || ''}  onChange={(e) => inputOnChange(e, 2)} tabIndex={3}/>\r\n                    <input key='3' type=\"text\" inputMode=\"numeric\" pattern=\"\\d{1}\" maxLength={1} className=\"otp-input\" value={inputValues[3] || \"\"}  onChange={(e) => inputOnChange(e, 3)} tabIndex={4}/>\r\n                </div>\r\n                {error && <h4>Please input valid Passcode.</h4>}\r\n                <div id=\"calculator\">\r\n                    <div className=\"keys\">\r\n                        <span onClick={(e)=>handleClick(\"7\")} className='key--span__border__common'>7</span>\r\n                        <span onClick={(e)=>handleClick(\"8\")} className='key--span__border__common'>8</span>\r\n                        <span onClick={(e)=>handleClick(\"9\")} className='key--span__border__bottom'>9</span>\r\n                        <span onClick={(e)=>handleClick(\"4\")} className='key--span__border__common'>4</span>\r\n                        <span onClick={(e)=>handleClick(\"5\")} className='key--span__border__common'>5</span>\r\n                        <span onClick={(e)=>handleClick(\"6\")} className='key--span__border__bottom'>6</span>\r\n                        <span onClick={(e)=>handleClick(\"1\")} className='key--span__border__common'>1</span>\r\n                        <span onClick={(e)=>handleClick(\"2\")} className='key--span__border__common'>2</span>\r\n                        <span onClick={(e)=>handleClick(\"3\")} className='key--span__border__bottom'>3</span>\r\n                        <span onClick={(e)=>handleClick(\"Delete\")} >Delete</span>\r\n                        <span onClick={(e)=>handleClick(\"0\")} className='key--span__border__right key--span__border__left'>0</span>\r\n                        <span onClick={(e)=>handleClick(\"Done\")} >Done</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default VrPasscode;"],"names":["PreviewIframe","styled","border","height","width","margin","VrPasscode","inputValues","setInputValues","useState","verifyStatus","setVerifyStatus","vrRoomUrl","setVrRoomUrl","error","setError","handleClick","value","join","split","length","vrPasscodeVerifyUrl","axios","then","response","console","log","data","verified","url","catch","valueArray","pop","inputOnChange","e","key","target","nativeEvent","inputType","handleKeyBackspace","handleKeyDown","inputs","document","getElementsByClassName","currentInput","activeElement","nextIndex","Array","from","indexOf","focus","_jsx","src","_jsxs","className","children","type","inputMode","pattern","maxLength","onChange","tabIndex","id","onClick"],"sourceRoot":""}