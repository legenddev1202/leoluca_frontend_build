"use strict";(self.webpackChunkberry_material_react_free=self.webpackChunkberry_material_react_free||[]).push([[409],{2409:function(e,o,t){t.r(o),t.d(o,{default:function(){return w}});var n=t(3967),l=t(4554),i=t(8550),s=t(890),r=t(6151),d=t(3786),a=t(1087),u=t(533),c=t(3197),h=(t(4904),t(184));var x=()=>(0,h.jsx)(u.Z,{disableRipple:!0,component:a.rU,to:c.Z.defaultPath,children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(s.Z,{variant:"h2",component:"h3",sx:{pl:2,fontWeight:"500",font:"Lalezar",fontStyle:"normal",color:"#FFFFFF",fontSize:"35px",fontFamily:"Livvic-Bold"},children:"Grwth.x"})})}),p=t(3957),v=t(6314),m=t(7026),f=t(2791),g=t(7689),y=t(3585),j=t(4673),Z=t(5669),F=t(3329),b=t(3746),C=t(4137),k=t(7472);var w=e=>{var o,t,u,c,w,I;let{data:S,userId:M,roomId:_,postMessage:R}=e;const[B,L,T]=(0,j.Z)(),P=(0,n.Z)(),[E]=(0,a.lr)(),[z,A]=(0,f.useState)(E.get("code")),N=(0,g.s0)(),[D,G]=(0,f.useState)([]),[U,W]=(0,f.useState)({}),[J,q]=(0,f.useState)(!1),{data:H}=(0,Z.gw)(),[K,O]=(0,Z.Aj)(),[Q,V]=(0,Z.hd)(),[X]=(0,Z._y)(),[Y,$]=(0,f.useState)(!1),[ee,oe]=(0,f.useState)("");(0,f.useEffect)((()=>{oe(S.title)}),[null===S||void 0===S?void 0:S.title]),(0,f.useEffect)((async()=>{setTimeout((()=>{!async function(){G(B[y.Jv])}()}),1e3)}),[B]);const[te,ne]=(0,f.useState)(null),[le,ie]=(0,f.useState)(),[se,re]=(0,f.useState)(),[de,ae]=(0,f.useState)(),[ue,ce]=(0,f.useState)(""),he=(0,f.useMemo)((()=>(e=>{if(e){var o;const n=null===e||void 0===e||null===(o=e.students)||void 0===o?void 0:o.filter((e=>e.userId===M));var t;return n?(ce(null===(t=n[0])||void 0===t?void 0:t.mark),n[0]):{}}return{}})(S)),[S]),xe=(0,f.useMemo)((()=>(e=>{if(e){var o;const t=null===e||void 0===e||null===(o=e.students)||void 0===o?void 0:o.filter((e=>"Teacher"===e.role));return t?t[0]:{}}return{}})(S)),[S]),[pe,ve]=(0,Z.bN)(),me=(e,o,t,n)=>{e.stopPropagation(),pe({studentId:o,roomId:t,mark:e.target.value}),ce(e.target.value)},fe=e=>{R(e);const o={roomId:_,userId:M};e===y.TA?setTimeout((()=>N("/preview",{state:o})),6e3):e===y.en&&setTimeout((()=>N("/play",{state:o})),6e3)};return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(l.Z,{sx:{width:"100%",height:"68px",display:"flex",justifyContent:"space-between",backgroundColor:"#7983FF",alignItems:"center",textAlign:"center",[P.breakpoints.down("md")]:{width:"auto"}},children:[(0,h.jsx)(k.Z,{open:J,handleClose:()=>q(!1),roomId:(null===S||void 0===S||null===(o=S.rooms)||void 0===o?void 0:o.length)>0&&(null===S||void 0===S||null===(t=S.rooms[0])||void 0===t?void 0:t._id),senderId:1===(null===H||void 0===H?void 0:H.type)?null===xe||void 0===xe?void 0:xe._id:he._id}),(0,h.jsx)(l.Z,{component:"span",children:(0,h.jsx)(x,{})}),(0,h.jsxs)(l.Z,{sx:{display:"flex",alignItems:"end"},children:[(0,h.jsx)(l.Z,{sx:{background:"#5243B0",borderRadius:"10px"},children:Y?(0,h.jsx)(i.Z,{sx:{color:"#FFFFFF",fontSize:"28px",fontFamily:"Livvic-SemiBold"},type:"text",value:ee,onChange:e=>oe(e.target.value)}):(0,h.jsx)(s.Z,{sx:{color:"#FFFFFF",fontSize:"28px",fontFamily:"Livvic-SemiBold",margin:"2.5px 10px"},onClick:()=>{$(!0)},children:ee})}),Y&&(0,h.jsx)(r.Z,{variant:"contained",onClick:()=>{Q({roomId:_,userId:M,title:ee}),$(!1)},sx:{margin:"auto 20px",color:"white",backgroundColor:"#7983FF",borderRadius:"10px"},children:"Save"}),(0,h.jsxs)(p.Z,{open:Boolean(le),anchorEl:le,onClose:()=>ie(null),sx:{p:0,mt:1.5,ml:.75,"& .MuiMenuItem-root":{typography:"body2",borderRadius:.75}},children:[(0,h.jsx)(d.Z,{sx:{m:1},children:"Assignment Info"}),(0,h.jsx)(d.Z,{onClick:()=>{q(!0),ie(null)},sx:{m:1},children:"Comments"}),1===(null===H||void 0===H?void 0:H.type)&&(0,h.jsx)(d.Z,{onClick:e=>{ie(null),ae(e.currentTarget)},sx:{m:1},children:"Grade/Marks"})]}),(null===S||void 0===S||null===(u=S.groups)||void 0===u?void 0:u.length)>0?("Submitted"===(null===S||void 0===S||null===(c=S.groups[0])||void 0===c?void 0:c.status)||"Done late"===(null===S||void 0===S||null===(w=S.groups[0])||void 0===w?void 0:w.status))&&(0,h.jsx)(p.Z,{anchorReference:"anchorPosition",anchorPosition:{top:55,left:700},open:Boolean(de),anchorEl:de,onClose:()=>ae(null),sx:{p:0,mt:1.5,ml:.75,"& .MuiMenuItem-root":{typography:"body2",borderRadius:.75}},children:(0,h.jsx)(d.Z,{sx:{m:1,display:"flex",justifyContent:"space-between"},children:(0,h.jsx)(i.Z,{label:null===S||void 0===S?void 0:S.grade,type:"text",InputLabelProps:{shrink:!0},value:ue,onChange:e=>me(e,null===S||void 0===S?void 0:S.groups[0]._id,null===S||void 0===S?void 0:S.rooms[0]._id,null===he||void 0===he||he.groupName)})})}):("Submitted"===(null===he||void 0===he?void 0:he.status)||"Done late"===(null===he||void 0===he?void 0:he.status))&&(0,h.jsx)(p.Z,{anchorReference:"anchorPosition",anchorPosition:{top:55,left:700},open:Boolean(de),anchorEl:de,onClose:()=>ae(null),sx:{p:0,mt:1.5,ml:.75,"& .MuiMenuItem-root":{typography:"body2",borderRadius:.75}},children:(0,h.jsx)(d.Z,{sx:{m:1,display:"flex",justifyContent:"space-between"},children:(0,h.jsx)(i.Z,{label:null===S||void 0===S?void 0:S.grade,type:"text",InputLabelProps:{shrink:!0},value:ue,onChange:e=>me(e,he._id,null===S||void 0===S?void 0:S.rooms[0]._id,null===he||void 0===he||he.groupName)})})})]}),(0,h.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-evenly",pr:4,justifyContent:"center",alignItems:"center",gap:"20px"},children:[(0,h.jsxs)(l.Z,{sx:{mr:6,display:"flex",alignItems:"end"},children:[(0,h.jsx)(s.Z,{variant:"h6",component:"h6",sx:{pl:2,fontWeight:"500",font:"Lalezar",fontStyle:"normal",color:"#FFFFFF",fontSize:"15px",fontFamily:"Livvic",cursor:"pointer"},children:(null===he||void 0===he?void 0:he.nameZh)||B[y.Ms]}),(0,h.jsx)(p.Z,{open:Boolean(se),anchorEl:se,onClose:()=>re(null),sx:{p:0,mt:1.5,ml:.75,"& .MuiMenuItem-root":{typography:"body2",borderRadius:.75}},children:null===S||void 0===S||null===(I=S.students)||void 0===I?void 0:I.map((e=>{if("Student"===e.role)return(0,h.jsxs)(d.Z,{sx:{m:1,display:"flex",justifyContent:"space-between"},children:[(0,h.jsx)(s.Z,{children:e.nameZh}),(0,h.jsx)(s.Z,{children:e.mark?e.mark:e.status})]})}))})]}),(0,h.jsx)(l.Z,{onClick:()=>R(y.CF),children:(0,h.jsx)(F.Z,{sx:{color:"#ffffff",width:"35px",height:"35px"}})}),(0,h.jsx)(l.Z,{onClick:()=>fe(y.TA),children:(0,h.jsx)(b.Z,{sx:{color:"#ffffff",width:"35px",height:"35px"}})}),(0,h.jsx)(l.Z,{onClick:()=>fe(y.en),children:(0,h.jsx)(C.Z,{sx:{color:"#ffffff",width:"35px",height:"35px"}})}),(0,h.jsx)(v.Z,{direction:"row",spacing:2,children:(0,h.jsx)("img",{src:B[y.N5]||m,alt:"UserIcon",width:32,height:32,style:{borderRadius:"50%"},onClick:e=>{ne(e.currentTarget)}})}),(0,h.jsx)(p.Z,{open:Boolean(te),anchorEl:te,onClose:()=>{ne(null)},sx:{p:0,mt:1.5,ml:.75,"& .MuiMenuItem-root":{typography:"body2",borderRadius:.75}},children:(0,h.jsx)(d.Z,{onClick:async()=>{let e="";e="https://uatgrwth.app360.cn/grwth-as/logout?redirect=https://grwthx.grwth.hk",X({}),L(),setTimeout((()=>window.location.href=e),1e3)},sx:{m:1},children:"Logout"})})]})]})})}}}]);
//# sourceMappingURL=409.3ef8c64f.chunk.js.map