"use strict";(self.webpackChunkberry_material_react_free=self.webpackChunkberry_material_react_free||[]).push([[751],{3751:function(e,o,t){t.r(o),t.d(o,{default:function(){return O}});var n=t(2791),i=t(4554),r=t(890),l=(t(5831),t(6151)),a=t(5289),s=t(5661),d=t(7123),c=t(6314),u=t(3786),p=t(9157),m=t(8096),h=t(4925),g=t(8406),x=t(7689),v=t(5925),f=(t(5048),t(763)),Z=t.n(f),b=t(7892),C=t.n(b),j=t(9598),y=t(5669),w=t(8075),k=t(8550),I=t(1715),S=t(3400),R=t(2094),z=t(184);function M(e){let{closeOne:o,closeTwo:t,closeThree:i,data:r,clickOpen:l}=e;const[a,s]=n.useState(null),d=Boolean(a);return(0,z.jsxs)("div",{children:[(0,z.jsx)(S.Z,{"aria-label":"fingerprint",color:"secondary",onClick:e=>{e.stopPropagation(),s(e.currentTarget),l(r.roomId,r._id)},sx:{background:"white",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"},children:(0,z.jsx)(R.Z,{sx:{color:"#2CC5CE"}})}),(0,z.jsxs)(I.Z,{id:"basic-menu",anchorEl:a,open:d,onClose:e=>{e.stopPropagation(),s(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,z.jsx)(u.Z,{onClick:e=>{e.stopPropagation(),s(null),o()},sx:{"&:hover":{color:"white",backgroundColor:"#2CC5CE"},color:"#2CC5CE"},children:"Comment"}),(0,z.jsx)(u.Z,{onClick:e=>{e.stopPropagation(),s(null),t(r._id)},sx:{"&:hover":{color:"white",backgroundColor:"#2CC5CE"},color:"#2CC5CE"},children:"Delete"})]})]})}var N=t(7024),E=t(7639),$=t(9293),T=t(6934),F=t(4673);t(3585);const D=(0,T.ZP)((e=>{let{className:o,...t}=e;return(0,z.jsx)(E.Z,{...t,classes:{popper:o}})}))({[`& .${$.Z.tooltip}`]:{maxWidth:80}});var P=n.forwardRef(((e,o)=>{let{student:t,rowdelete:l,goToRoom:a,openCommentModal:s,clickOpen:d,assignment:c}=e;const[u]=(0,F.Z)(),[p,m]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[x,v]=(0,y.bN)();(0,n.useEffect)((()=>{if(null!==t&&void 0!==t&&t.groupName){let e="";t.members.map((o=>{e+=o.nameZh+" \n "})),g(e)}t.mark&&m(t.mark)}),[t]);return console.log(v),(0,z.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-evenly",marginTop:"40px",backgroundColor:"white",alignItems:"center",boxShadow:"10px 8px 10px -10px;  #ccc",padding:"10px"},ref:o,onClick:e=>{var o,n;null!==t&&void 0!==t&&t.userId?a(`/roomId/${null===(o=t.room)||void 0===o?void 0:o.roomId}/${t.assignmentId}/${null===t||void 0===t?void 0:t.userId}`,e):a(`/roomId/${null===(n=t.room)||void 0===n?void 0:n.roomId}/${t.assignmentId}`,e)},children:[(0,z.jsx)(w.Z,{sx:{width:100,height:100},children:(0,z.jsx)("img",{src:(null===t||void 0===t?void 0:t.headImg)||N,alt:"room1",loading:"lazy"})}),null!==t&&void 0!==t&&t.groupName?(0,z.jsx)(D,{title:(0,z.jsx)("span",{style:{whiteSpace:"pre-line"},children:h}),children:(0,z.jsxs)(i.Z,{sx:{alignItems:"center",justifyContent:"center",width:"50px"},children:[(0,z.jsx)(r.Z,{variant:"h5",component:"h6",sx:{borderRadius:"50%",height:"30px",width:"30px",backgroundColor:"#9cdd73",color:"black",padding:"8.5px"},children:null===t||void 0===t?void 0:t.nameEn}),(0,z.jsx)(i.Z,{sx:{width:"50px",fontSize:"12px"},children:(null===t||void 0===t?void 0:t.nameZh)||t.groupName})]})}):(0,z.jsxs)(i.Z,{sx:{alignItems:"center",justifyContent:"center",width:"50px"},children:[(0,z.jsx)(r.Z,{variant:"h5",component:"h6",sx:{borderRadius:"50%",height:"30px",width:"30px",backgroundColor:"#9cdd73",color:"black",padding:"8.5px"},children:null===t||void 0===t?void 0:t.nameEn}),(0,z.jsx)(i.Z,{sx:{width:"50px",fontSize:"12px"},children:(null===t||void 0===t?void 0:t.nameZh)||t.groupName})]}),(0,z.jsx)(i.Z,{sx:{width:"60px",fontSize:"20px"},children:"Submitted"===t.status||"Done late"===t.status?p||t.status:C()(c.dueDate).get("month")-C()().get("month")>=0&&(C()(c.dueDate).get("date")-C()().get("date")>0||C()(c.dueDate).get("date")-C()().get("date")===0&&(C()(c.dueDate).get("hour")-C()().get("hour")>0||C()(c.dueDate).get("hour")-C()().get("hour")===0&&C()(c.dueDate).get("minute")-C()().get("minute")>0))?t.status:"Missing"}),(0,z.jsx)(i.Z,{sx:{width:"120px",fontSize:"20px"},children:"New"!=(null===t||void 0===t?void 0:t.status)&&"Missing"!=(null===t||void 0===t?void 0:t.status)&&(0,z.jsx)(k.Z,{label:null===c||void 0===c?void 0:c.grade,type:"text",InputLabelProps:{shrink:!0},value:p,onChange:e=>((e,o,t,n)=>{e.stopPropagation(),console.log(o,t,n),x({studentId:o,roomId:t,mark:e.target.value}),m(e.target.value)})(e,t._id,null===t||void 0===t?void 0:t.room.id,!(null===t||void 0===t||!t.groupName)),onClick:e=>e.stopPropagation()})}),(0,z.jsx)(i.Z,{sx:{width:"15%",fontSize:"20px"},children:C()(null===c||void 0===c?void 0:c.dueDate).format("MM-DD-YYYY HH:mm:ss")}),(0,z.jsx)(M,{closeTwo:l,closeOne:s,data:t,clickOpen:d})]})})),_=(t(6442),t(7472));function O(){const e=(0,j.Z)(),o=(0,x.TH)(),t=(0,x.s0)(),[f]=(0,F.Z)(),[b,C]=(0,n.useState)({}),[w,k]=(0,n.useState)("None"),[I,S]=(0,n.useState)(""),[R,M]=(0,n.useState)(""),[N,E]=(0,n.useState)(""),[$,T]=(0,n.useState)(!1),D=o.pathname.split("/")[2],[O,L]=(0,y.bC)(),[H,B]=(0,y.kN)(),[A,W]=(0,y.Xz)(),[Y,q]=(0,y.sH)(),{data:G}=(0,y.gw)();(0,n.useEffect)((()=>{O({assignmentId:D})}),[D,B]),(0,n.useEffect)((()=>{L.data&&C(L.data)}),[L]),(0,n.useEffect)((()=>{null!==q&&void 0!==q&&q.data&&A({roomId:R})}),[q]);const[V,X]=(0,n.useState)(""),J=(e,o)=>{console.log(e),M(e),S(o)},[K,Q]=(0,n.useState)(!1),U=()=>{console.log(R),A({roomId:R}),Q(!0)},ee=async e=>{T(!0),X(null)},oe=()=>{T(!1),X(null)},te=(e,o)=>{o.stopPropagation(),console.log(e),t(e)},ne=(0,n.useMemo)((()=>Z().filter(null===b||void 0===b?void 0:b.students,(e=>"Submitted"===(null===e||void 0===e?void 0:e.status)&&"Teacher"!==(null===e||void 0===e?void 0:e.role))).length),[b]),ie=(0,n.useMemo)((()=>Z().filter(null===b||void 0===b?void 0:b.students,(e=>"Teacher"!==(null===e||void 0===e?void 0:e.role))).length),[b]),re=(0,n.useMemo)((()=>(()=>{if("None"!==w)return null!==b&&void 0!==b&&b.students?Z().filter(null===b||void 0===b?void 0:b.students,(e=>(null===e||void 0===e?void 0:e.status)===w)).map((e=>{const o=Z().filter(null===b||void 0===b?void 0:b.rooms,(o=>o._id===e.roomId));return{...e,room:{...o[0]}}})):[];var e;return null===b||void 0===b||null===(e=b.students)||void 0===e?void 0:e.map((e=>{const o=Z().filter(null===b||void 0===b?void 0:b.rooms,(o=>o._id===e.roomId));return{...e,room:{...o[0]}}}))})()),[w,b]),le=(0,n.useMemo)((()=>(e=>{var o;return null===e||void 0===e||null===(o=e.groups)||void 0===o?void 0:o.map((e=>{let o=Z().filter(null===e||void 0===e?void 0:e.members,(e=>"Teacher"!==e.role));return{...e,members:o,room:e.room[0]}}))})(b)),[b]),ae=(0,n.useMemo)((()=>{const e=Z().filter(null===b||void 0===b?void 0:b.students,(e=>"Teacher"===e.role));return e.length>0?e[0]._id:""}),[b]);return(0,z.jsxs)(i.Z,{children:[(0,z.jsxs)(a.Z,{open:$,onClose:oe,"aria-labelledby":"alert-dialog-title",sx:{width:"20%",height:"25%",position:"absolute",top:"40%",left:"40%"},children:[(0,z.jsx)(s.Z,{id:"alert-dialog-title"}),(0,z.jsx)(p.Z,{children:(0,z.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},children:[(0,z.jsx)(v.IT9,{style:{color:"#F7C005",width:"40px",height:"60px",fontWeight:"800",fontFamily:"bold"}}),(0,z.jsxs)(r.Z,{variant:"h3",component:"h3",children:["Are you sure you want"," ",(0,z.jsx)("br",{}),"to delete this?"]})]})}),(0,z.jsxs)(d.Z,{sx:{textAlign:"center",marginRight:"22%"},children:[(0,z.jsx)(l.Z,{onClick:oe,sx:{backgroundColor:"#818181",color:"#ffffff","&:hover":{backgroundColor:"#818181"}},children:"Cancel"}),(0,z.jsx)(l.Z,{onClick:()=>{H({roomId:R}),oe()},sx:{backgroundColor:"#CE2C2C",color:"#ffffff","&:hover":{backgroundColor:"#CE2C2C"}},children:"Delete"})]})]}),(0,z.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",marginTop:"10px"},children:[(0,z.jsx)(i.Z,{sx:{display:"flex",alignItems:"center"},children:(0,z.jsx)(r.Z,{variant:"caption",sx:{color:"#7983FF"},children:null===b||void 0===b?void 0:b.title})}),(0,z.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[(0,z.jsx)(i.Z,{sx:{backgroundColor:"#F2F2F2",padding:"10px 39px",borderRadius:"20px"},children:`Subject: ${(null===b||void 0===b?void 0:b.subject)&&(null===b||void 0===b?void 0:b.subject[0].shortName)}`}),(0,z.jsx)(i.Z,{sx:{backgroundColor:"#F2F2F2",padding:"10px 39px",borderRadius:"20px"},children:`Class: ${(null===b||void 0===b?void 0:b.class)&&(null===b||void 0===b?void 0:b.class[0].shortName)}`})]})]}),(0,z.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-around ",marginTop:"80px"},children:[(0,z.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,z.jsx)(c.Z,{spacing:4,direction:"row",children:(0,z.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",ml:8,justifyContent:"center"},children:[(0,z.jsx)(r.Z,{variant:"caption",sx:{padding:"2px 9px",borderRadius:"50%",backgroundColor:e.palette.success.main,color:"white",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center"},children:ne}),(0,z.jsx)(r.Z,{variant:"caption",sx:{padding:"2px 9px",borderRadius:"50%",color:e.palette.success.main},children:"Submitted"})]})}),(0,z.jsx)(c.Z,{direction:"row",children:(0,z.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",ml:2},children:[(0,z.jsx)(r.Z,{variant:"caption",sx:{padding:"2px 9px",borderRadius:"50%",backgroundColor:e.palette.grey[700],color:"white",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center"},children:ie}),(0,z.jsx)(r.Z,{variant:"caption",sx:{padding:"2px 9px",borderRadius:"50%",color:e.palette.grey[700]},children:"Assigned"})]})})]}),(0,z.jsx)(i.Z,{sx:{width:"140px"},children:(0,z.jsxs)(m.Z,{fullWidth:!0,children:[(0,z.jsx)(h.Z,{id:"demo-simple-select-label",children:"Filter by"}),(0,z.jsx)(g.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,label:"Subject",onChange:e=>{k(e.target.value)},children:[{key:"None",value:"None"},{key:"New",value:"New"},{key:"Submitted",value:"Submitted"},{key:"Missing",value:"Missing"},{key:"Done late",value:"Done late"}].map(((e,o)=>(0,z.jsx)(u.Z,{value:e.value,sx:{"&:hover":{color:"white",backgroundColor:"#2CC5CE"},color:"#2CC5CE"},children:e.key})))})]})})]}),(0,z.jsx)(_.Z,{open:K,handleClose:()=>{Q(!1)},roomId:R,senderId:ae}),(null===le||void 0===le?void 0:le.length)>0?le.map(((e,o)=>(0,z.jsx)(P,{student:e,rowdelete:ee,goToRoom:te,clickOpen:J,anchorEl:V,openCommentModal:U,assignment:b},o))):null===re||void 0===re?void 0:re.map(((e,o)=>{if("Teacher"!==e.role)return(0,z.jsx)(P,{student:e,rowdelete:ee,goToRoom:te,open:open,clickOpen:J,anchorEl:V,openCommentModal:U,assignment:b})}))]})}},2094:function(e,o,t){var n=t(4836);o.Z=void 0;var i=n(t(5649)),r=t(184),l=(0,i.default)((0,r.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");o.Z=l},3400:function(e,o,t){t.d(o,{Z:function(){return b}});var n=t(3366),i=t(7462),r=t(2791),l=t(8182),a=t(4419),s=t(2065),d=t(6934),c=t(1402),u=t(533),p=t(4036),m=t(5878),h=t(1217);function g(e){return(0,h.Z)("MuiIconButton",e)}var x=(0,m.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),v=t(184);const f=["edge","children","className","color","disabled","disableFocusRipple","size"],Z=(0,d.ZP)(u.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,"default"!==t.color&&o[`color${(0,p.Z)(t.color)}`],t.edge&&o[`edge${(0,p.Z)(t.edge)}`],o[`size${(0,p.Z)(t.size)}`]]}})((e=>{let{theme:o,ownerState:t}=e;return(0,i.Z)({textAlign:"center",flex:"0 0 auto",fontSize:o.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(o.vars||o).palette.action.active,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:(0,s.Fq)(o.palette.action.active,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),(e=>{let{theme:o,ownerState:t}=e;var n;const r=null==(n=(o.vars||o).palette)?void 0:n[t.color];return(0,i.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,i.Z)({color:null==r?void 0:r.main},!t.disableRipple&&{"&:hover":(0,i.Z)({},r&&{backgroundColor:o.vars?`rgba(${r.mainChannel} / ${o.vars.palette.action.hoverOpacity})`:(0,s.Fq)(r.main,o.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:o.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:o.typography.pxToRem(28)},{[`&.${x.disabled}`]:{backgroundColor:"transparent",color:(o.vars||o).palette.action.disabled}})}));var b=r.forwardRef((function(e,o){const t=(0,c.Z)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:s,className:d,color:u="default",disabled:m=!1,disableFocusRipple:h=!1,size:x="medium"}=t,b=(0,n.Z)(t,f),C=(0,i.Z)({},t,{edge:r,color:u,disabled:m,disableFocusRipple:h,size:x}),j=(e=>{const{classes:o,disabled:t,color:n,edge:i,size:r}=e,l={root:["root",t&&"disabled","default"!==n&&`color${(0,p.Z)(n)}`,i&&`edge${(0,p.Z)(i)}`,`size${(0,p.Z)(r)}`]};return(0,a.Z)(l,g,o)})(C);return(0,v.jsx)(Z,(0,i.Z)({className:(0,l.Z)(j.root,d),centerRipple:!0,focusRipple:!h,disabled:m,ref:o,ownerState:C},b,{children:s}))}))},8075:function(e,o,t){t.d(o,{Z:function(){return Z}});var n=t(3366),i=t(7462),r=t(4419),l=t(8182),a=t(2791);t(7441);var s=a.createContext({}),d=t(6934),c=t(1402),u=t(8886),p=t(5878),m=t(1217);function h(e){return(0,m.Z)("MuiImageListItem",e)}var g=(0,p.Z)("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),x=t(184);const v=["children","className","cols","component","rows","style"],f=(0,d.ZP)("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[{[`& .${g.img}`]:o.img},o.root,o[t.variant]]}})((e=>{let{ownerState:o}=e;return(0,i.Z)({display:"block",position:"relative"},"standard"===o.variant&&{display:"flex",flexDirection:"column"},"woven"===o.variant&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${g.img}`]:(0,i.Z)({objectFit:"cover",width:"100%",height:"100%",display:"block"},"standard"===o.variant&&{height:"auto",flexGrow:1})})}));var Z=a.forwardRef((function(e,o){const t=(0,c.Z)({props:e,name:"MuiImageListItem"}),{children:d,className:p,cols:m=1,component:g="li",rows:Z=1,style:b}=t,C=(0,n.Z)(t,v),{rowHeight:j="auto",gap:y,variant:w}=a.useContext(s);let k="auto";"woven"===w?k=void 0:"auto"!==j&&(k=j*Z+y*(Z-1));const I=(0,i.Z)({},t,{cols:m,component:g,gap:y,rowHeight:j,rows:Z,variant:w}),S=(e=>{const{classes:o,variant:t}=e,n={root:["root",t],img:["img"]};return(0,r.Z)(n,h,o)})(I);return(0,x.jsx)(f,(0,i.Z)({as:g,className:(0,l.Z)(S.root,S[w],p),ref:o,style:(0,i.Z)({height:k,gridColumnEnd:"masonry"!==w?`span ${m}`:void 0,gridRowEnd:"masonry"!==w?`span ${Z}`:void 0,marginBottom:"masonry"===w?y:void 0},b),ownerState:I},C,{children:a.Children.map(d,(e=>a.isValidElement(e)?"img"===e.type||(0,u.Z)(e,["Image"])?a.cloneElement(e,{className:(0,l.Z)(S.img,e.props.className)}):e:null))}))}))},7024:function(e,o,t){e.exports=t.p+"static/media/RoomA1.1b6ca73387496d434399.png"},5831:function(e,o,t){e.exports=t.p+"static/media/room1.5fa74277827a6400d678.png"}}]);
//# sourceMappingURL=751.052187be.chunk.js.map